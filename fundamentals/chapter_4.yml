---
header:
  author: Justin Phelps
  title: Example Commands and State Files
  description: Example commands and state files for various tasks.

slides:

   - set_global:
       transition: rotate
       background: '#007777'
       #background: 'black'

   -
     - nested:
         -
           - h1: Example Commands and State Files
           - ul: 
             - State and Execution Modules
             - test.ping
             - command
             - pkg and service
             - Lab
         -
           - h2: State and Execution Modules
           - p: 'State modules are used when calling state.sls or highstate against a minion.'
           - code: |
               fred:
                 user.present:
                   - fullname: Fred Jones
                   - shell: /bin/zsh
                   - home: /home/fred
                   - uid: 4000
                   - gid: 4000
                   - groups:
                     - wheel
                     - storage
                     - games
         -
           - h2: State and Execution Modules
           - p: 'Execution modules are used when calling modules directly from the command line.'
           - code: |
               salt '*' user.add fred uid gid groups home shell
         -
           - h2: test.ping
           - p: This is the most basic module you can run. It simply connects to the targeted minion(s) and returns True if that minion responds.
           - code: |
               salt '*' test.ping
               minion1:
                   True
               minion2:
                   True
           - p: There is no matching state module for test.ping.
         -
           - h2: Running Commands
           - p: Running arbitrary commands can come in handy for one time operations. This is done with the cmd.run module.
           - p: Execution Example
           - code: |
               salt webservers cmd.run "service apache2 restart"
           - p: State Example
           - code: |
               touch /tmp/foo:
                 cmd.run:
                   - creates: /tmp/foo
